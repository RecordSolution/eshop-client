<!--
  Generated template for the CustomDesignPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>custom-design</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="main">
  <ion-grid>
    <ion-row>
      <ion-col size="3">
        <custom-fashion-category-selector (selectedCategory)="onFashionCategorySelection($event)">
        </custom-fashion-category-selector>
      </ion-col>
      <ion-col size="6">
      
        <!-- {{selectedProduct | json}} -->
        <ion-icon name="color-palette"  [cpHeight]='auto'  [style.color]="color" [cpPosition]="'bottom'" [(colorPicker)]="color" ></ion-icon>
        <ion-icon *ngIf="selectedProduct" name="heart" (click)="selectAssets()"></ion-icon>
        <!-- <input  [value]="color" [style.background]="color" [cpPosition]="'bottom'" [(colorPicker)]="color" /> -->
        <!-- <img [attr.fill]="color"   src="/assets/imgs/t-shirt.svg">  -->
      <div class="drag-boundary" [ngClass]="{ 'top-b': !edge?.top, 'bottom-b': !edge?.bottom, 'left-b': !edge?.left, 'right-b': !edge?.right }" #myBounds>
          <div *ngIf="selectedProduct">
          
              <svg  version="1.1" [attr.fill]="color" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 626 645"
              style="fill:color;" xml:space="preserve">
              <path  class="test"  [attr.d]="selectedProduct.menFront"/>
            </svg>
    
            </div>

            <div *ngIf="dragableAssets && dragableAssets.length > 0" style="position:absolute;left: 50%;top:50%;transform: translate(-50%, -50%);">
                <img *ngFor="let asset of dragableAssets"
                [ngStyle]="selectedToResize==asset ? {height:size+'px',width:size+'px'}:''" class="icons" ion-long-press
                [interval]="400" (onPressing)="active(asset)" ngDraggable (edge)="checkEdge($event)" [bounds]="myBounds" [inBounds]="inBounds" src="{{asset}}">
            </div>
        
      </div>
        
       
        <!-- <input type="color" value="#0000ff">
<img src="https://www.gstatic.com/webp/gallery3/1_webp_ll.png"> -->

        
        <ion-item *ngIf="dragableAssets && dragableAssets.length > 0">
          <ion-range min="30" max="100" [(ngModel)]="size" snaps="true" color="secondary" (ionChange)="setBadge(size)">
            {{size}}</ion-range>
        </ion-item>
        <div class="flex" *ngIf="selectedProduct">
          colors
          <div class="color-selection" [style.background]="color" *ngFor="let color of selectedProduct.colors"></div>
        </div>
        <!-- <img *ngIf="selectedProduct" src="{{selectedProduct.images[0].url}}" /> -->
        <div class="flex " *ngIf="selectedProduct">
          <div class="size" *ngFor="let size of selectedProduct.sizes">{{size}}</div>
        </div>
        <ion-item>
          <ion-input type='text' placeholder="Extra Instructions...."></ion-input>
        </ion-item>
        <!-- <button ion-button>save</button>
        <button ion-button (click)="selectAssets()">asssets</button> -->
      </ion-col>

      <ion-col size="3">

        <custom-dress-category-selector (selectedCategory)="onDressCategorySelection($event)">
        </custom-dress-category-selector>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="popup" *ngIf="showAssets">
    <custom-assets [allCustomAssets]="customAssets" (onCancel)="closePopup()"
      (onAssetsSelection)="onCustomAssetSelection($event)"></custom-assets>

  </div>

</ion-content>